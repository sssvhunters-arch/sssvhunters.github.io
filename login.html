<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SSSV Hunters | Secure Access</title>

<style>
* {
    margin:0;
    padding:0;
    box-sizing:border-box;
    font-family:'Segoe UI',sans-serif;
}

body {
    height:100vh;
    background:#ffffff;
    display:flex;
    justify-content:center;
    align-items:center;
    position:relative;
    overflow:hidden;
}

/* Logo watermark */
body::before {
    content:"";
    position:absolute;
    width:650px;
    height:650px;
    background:url("jpj.jpg") no-repeat center;
    background-size:contain;
    opacity:0.04;
    z-index:0;
}

.container {
    position:relative;
    z-index:2;
    width:430px;
    background:#fff;
    padding:45px;
    border-radius:18px;
    box-shadow:0 20px 50px rgba(0,0,0,0.08);
}

.logo {
    text-align:center;
    font-size:26px;
    font-weight:700;
    color:#0a4d8c;
}

.subtitle {
    text-align:center;
    font-size:13px;
    color:#777;
    margin-bottom:30px;
}

.toggle {
    display:flex;
    margin-bottom:25px;
    background:#f3f5f7;
    border-radius:8px;
    overflow:hidden;
}

.toggle button {
    flex:1;
    padding:10px;
    border:none;
    cursor:pointer;
    background:transparent;
    font-weight:600;
    transition:0.3s;
}

.toggle button.active {
    background:#0a4d8c;
    color:white;
}

input, select {
    width:100%;
    padding:13px;
    margin-bottom:15px;
    border-radius:8px;
    border:1px solid #ddd;
    font-size:14px;
    transition:0.3s;
}

input:focus, select:focus {
    border-color:#0a4d8c;
    outline:none;
    box-shadow:0 0 0 2px rgba(10,77,140,0.1);
}

.action-btn {
    width:100%;
    padding:14px;
    border:none;
    border-radius:8px;
    background:linear-gradient(90deg,#0a4d8c,#007bff);
    color:white;
    font-weight:600;
    cursor:pointer;
    transition:0.3s;
}

.action-btn:hover {
    transform:translateY(-2px);
    box-shadow:0 10px 25px rgba(0,123,255,0.2);
}

.error {
    margin-top:15px;
    color:red;
    font-size:13px;
    text-align:center;
}

.footer {
    margin-top:18px;
    text-align:center;
    font-size:12px;
    color:#aaa;
}

.hidden {
    display:none;
}
</style>
</head>

<body>

<div class="container">

    <div class="logo">SSSV HUNTERS</div>
    <div class="subtitle">Secure Recruitment Portal</div>

    <div class="toggle">
        <button id="loginTab" class="active" onclick="showLogin()">Login</button>
        <button id="signupTab" onclick="showSignup()">Sign Up</button>
    </div>

    <!-- LOGIN FORM -->
    <div id="loginForm">
        <input type="email" id="loginEmail" placeholder="Email Address">
        <input type="password" id="loginPassword" placeholder="Password">
        <button class="action-btn" onclick="login()">Secure Login</button>
    </div>

    <!-- SIGNUP FORM -->
    <div id="signupForm" class="hidden">
        <input type="text" id="name" placeholder="Full Name">
        <input type="email" id="signupEmail" placeholder="Email Address">
        <input type="password" id="signupPassword" placeholder="Password">
        
        <select id="role">
            <option value="candidate">Candidate</option>
            <option value="admin">Admin</option>
        </select>

        <button class="action-btn" onclick="signup()">Create Account</button>
    </div>

    <div id="error" class="error"></div>

    <div class="footer">Authorized Access Only</div>

</div>

<script type="module">

import { initializeApp } from "https://www.gstatic.com/firebasejs/12.0.0/firebase-app.js";
import { getAuth, signInWithEmailAndPassword, createUserWithEmailAndPassword } 
from "https://www.gstatic.com/firebasejs/12.0.0/firebase-auth.js";
import { getFirestore, setDoc, doc } 
from "https://www.gstatic.com/firebasejs/12.0.0/firebase-firestore.js";

const firebaseConfig = {
 apiKey: "AIzaSyCseBuz6XomVg_R1s3eLk0WBjvf2pGW8po",
  authDomain: "sssvhunters-jobboard.firebaseapp.com",
  projectId: "sssvhunters-jobboard",
  storageBucket: "sssvhunters-jobboard.firebasestorage.app",
  messagingSenderId: "724150870358",
  appId: "1:724150870358:web:901c334ce94d530aefb6f7",
  measurementId: "G-M1R2YQTW20"
};

const app = initializeApp(firebaseConfig);
const auth = getAuth(app);
const db = getFirestore(app);

window.showLogin = function(){
    loginForm.classList.remove("hidden");
    signupForm.classList.add("hidden");
    loginTab.classList.add("active");
    signupTab.classList.remove("active");
}

window.showSignup = function(){
    signupForm.classList.remove("hidden");
    loginForm.classList.add("hidden");
    signupTab.classList.add("active");
    loginTab.classList.remove("active");
}

window.login = function(){
    const email = loginEmail.value;
    const password = loginPassword.value;

    signInWithEmailAndPassword(auth,email,password)
    .then(()=>{ window.location.href="dashboard.html"; })
    .catch(e=>{ error.innerText=e.message; });
}

window.signup = function(){
    const email = signupEmail.value;
    const password = signupPassword.value;
    const role = roleSelect = document.getElementById("role").value;
    const name = document.getElementById("name").value;

    createUserWithEmailAndPassword(auth,email,password)
    .then(async (userCredential)=>{
        const user = userCredential.user;

        await setDoc(doc(db,"users",user.uid),{
            name:name,
            email:email,
            role:role
        });

        window.location.href="dashboard.html";
    })
    .catch(e=>{ error.innerText=e.message; });
}

</script>

</body>
</html>
